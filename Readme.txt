# Статистический анализ данных по аренде самокатов в сервисе GoFast

**ПОСТАНОВКА ЗАДАЧИ**

Заказчик этого исследования — сервис по прокату самокатов GoFast. 
Нам нужно изучить и проанализировать данные о некоторых пользователях из нескольких городов, которые совершают поездки с использованием сервиса GoFast. На основании этих данных необходимо проверить несколько гипотез о времени поездок, расстоянии, помесячной выручке, и влияние технических обновлений, а также необходимо определить минимальное число промокодов для достижения плана и построить график распределения для оценки открытия push-уведомлений.
Исходные данные: данные, предоставленные сервисом GoFast. Набор данных содержит информацию о пользователях, поездках и подписках на сам сервис. 

**Немного о сервисе GoFast**

Пользователи могут пользоваться сервисом следующими способами:
- без подписки:
    - абонентская плата отсутствует;
    - стоимость одной минуты поездки — 8 рублей;
    - стоимость старта (начала поездки) — 50 рублей;
- с подпиской Ultra:
    - абонентская плата — 199 рублей в месяц;
    - стоимость одной минуты поездки — 6 рублей;
    - стоимость старта — бесплатно.

**Цель исследования**:
- *проверить 4 гипотезы:*
    1. Пользователи с подпиской тратят в среднем больше времени на поездки, чем пользователи без подписки.
    2. Пользователи в среднее проезжают расстояние меньше 3130 метров.
    3. Помесячная выручка от пользователей с подпиской по месяцам выше, чем выручка от пользователей без подписки.
    4. Количество обращений в техподдержку значимо снизилось после технического обновления на стороне сервера приложения.


- *и построить 2 распределения для маркетингового отдела:*
    1. Стратегия раздачи промокодов для акции по продлению подписок
    2. Оценка вероятности открытия push-уведомлений в мобильном приложении

**Ход исследования**

Данные от сервиса GoFast мы получим из файлов ` /datasets/users_go.csv (данные о пользователях), /datasets/rides_go.csv (данные о поездках) и /datasets/subscriptions_go.csv (данные о подписках).`. О качестве данных ничего не известно. Поэтому перед проверкой гипотез понадобится обзор данных.

Мы проверим данные на ошибки и оценим их влияние на исследование. Затем, на этапе предобработки мы отыщем возможность исправить самые критичные ошибки данных. Далее проведем исследовательский анализ данных и выявим основные закономерности в данных. После этого подготовим данные для проверки гипотез, путем объединение и структурирование в различные датфреймы, а также добавим подсчет выручки. А в завершении приступим к проверке гипотез и построению ряда распределений для маркетингового отдела.

Таким образом, исследование пройдёт в семь этапов:
 1. Обзор данных.
 2. Предобработка данных.
 3. Исследовательский анализ данных
 4. Объединение и структурирование данных 
 5. Подсчет выручки сервисом
 6. Проверка гипотез.
 7. Построение ряда распределений.

# ОБЩИЙ ВЫВОД

В ходе статистического анализ данных по аренде самокатов в сервисе GoFast было реализовано следующее:

**1. Загрузка и первичный обзор данных:**
- Типы данных в датасетах `df_users, df_rides, и df_subs` успешно определены.
- Уникальный идентификатор пользователя `user_id` общий для данных о пользователях и поездках, что упрощает объединение датасетов.
- Пропущенных значений в данных не обнаружено.
- Данные о подписках содержат два типа: `"free" и "ultra".`

**2. Предобработка данных:**
- Столбец `df_rides['date']` успешно преобразован к типу данных  `datetime `.
- Создан дополнительный столбец `df_rides['month'] ` для анализа данных в разрезе месяцев.
- Проверка на пропущенные значения и дубликаты не выявила проблем.
- Удалены явные аномалии в данных о поездках (продолжительностью 0.5 минуты).

**3. Исследовательский анализ данных:**
- Определены особенности использования сервиса:
    - Неравномерное распределение пользователей по городам.
    - 45.6% пользователей используют подписку.
    - Основная доля подписчиков в возрастной группе 22-27 лет.
    - Распределение расстояний и продолжительности поездок различается.

**4. Объединение данных:**
- Данные о пользователях, поездках и подписках объединены в единый датафрейм `df.`
- Созданы два датафрейма: `df_with_subs` (пользователи с подпиской "ultra") и `df_no_subs` (пользователи без подписки "free").
- Визуализированы различия в распределении расстояния и времени поездок между пользователями с подпиской и без подписки.

**5. Подсчёт выручки:**
- Создан датафрейм `df_aggregated` с агрегированными данными о поездках для каждого пользователя за каждый месяц.
- Добавлен столбец с помесячной выручкой, учитывающей стоимость старта поездки, стоимость времени поездки и подписочную плату.
- Ненужные для анализа столбцы `minute_price, start_ride_price, subscription_fee` удалены для улучшения чистоты данных.
- Финансовая эффективность и дополнительные возможности анализа:
- Введение столбца `income` дает возможность более глубокого изучения финансовой эффективности каждого пользователя.
- Общий датафрейм предоставляет основу для более детального анализа и принятия решений в управлении сервисом проката самокатов.

**6. Проверка гипотез:**
- Гипотеза №1: Подтверждена. Пользователи с подпиской тратят в среднем больше времени на поездки, что является положительным для компании.
- Гипотеза №2: Результаты одновыборочного `t-теста` не позволяют отвергнуть нулевую гипотезу, но с уровнем значимости 0.05 можно утверждать, что среднее расстояние пользователей с подпиской равно 3130 метров.
- Гипотеза №3: Подтверждена. Помесячная выручка от пользователей с подпиской в среднем выше, что делает эту группу более выгодной для компании.
- Гипотеза №4: Для проверки снижения обращений в техподдержку после обновления сервера должен использовался t-тест для зависимых выборок `(st.ttest_rel())`.

**7. Шаг 7. Распределения:**
- Стратегия раздачи промокодов: Минимальное количество промокодов для успешной акции составляет примерно 1161, что является важной информацией для эффективного распределения ресурсов маркетингового отдела.
- Оценка вероятности открытия push-уведомлений: Вероятность открытия уведомлений не более 399,5 тыс. пользователей составляет примерно 15,37%, что позволяет адаптировать стратегии маркетинга.

**Итог:**
- Пользователи с подпиской более активны и приносят больше выручки.
- Стратегия привлечения пользователей с подпиской может быть успешной.